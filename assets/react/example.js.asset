let DOMContainer = getAppContainer(context)
let RxComponent = Observable
    .interval(1000)
    .map(()=>
        (<div>{new Date().toLocaleString()}</div>))

RxComponent
.subscribe(comp=> ReactDOM.render(comp, DOMContainer))
###
let DOMContainer = getAppContainer(context)
let actions = new Subject()
let values = actions
                    .scan((acc,next)=>acc + next)
                    .startWith(0)
                                        
let RxComponent = values
  .map((value)=>
    (<div>
      <div>{value}</div>
      <button onClick={()=>actions.onNext(1)}>
      +</button>
      <button onClick={()=>actions.onNext(-1)}>
      -</button>
     </div>))

RxComponent
.subscribe(comp=> ReactDOM.render(comp, DOMContainer))

###
class Counter extends Component
{
  constructor()
  {
    super();
    this.actions = new Subject();
    this.state = {count:0}
  }
  
  componentDidMount(){
    this.actions
    .scan((acc,next)=>acc + next)
    .startWith(0)
    .subscribe(count=>this.setState({count}));
  }
  
  increment()
  {
    this.actions.onNext(1)
  }
  
  decrement()
  {
    this.actions.onNext(-1)
  }
  
  render(){
    return (<div>
      <div>{this.state.count}</div>
      <button onClick={()=>this.increment()}>
      +</button>
      <button onClick={()=>this.decrement()}>
      -</button>
      <div>Component</div>
     </div>)
  }
}

let DOMContainer = getAppContainer(context) 
ReactDOM.render(<Counter/>, DOMContainer)

###                                        
let Counter = createComponent( props$ =>
{
  const { handler: increment,
          stream: increment$ } = createEventHandler()
  const { handler: decrement, 
          stream: decrement$ } = createEventHandler()
  const count$ = Observable.merge(
      increment$.map(() => 1),
      decrement$.map(() => -1)
    )
    .startWith(0)
    .scan((count, n) => count + n, 0)

  return count$.map(count =>(
    <div>
      <div>{count}</div>
      <button onClick={increment}>+</button>
      <button onClick={decrement}>-</button>
      <div>Recompose</div>
    </div>
  ))
});

let DOMContainer = getAppContainer(context)
ReactDOM.render(<Counter/>, DOMContainer)
